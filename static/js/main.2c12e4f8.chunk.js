(this["webpackJsonppares-app"]=this["webpackJsonppares-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},28:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(18),l=a.n(c),i=(a(26),a(20)),o=a(4),u=a.n(o),s=a(8),p=a(6),d=(a(28),a(19)),m=a.n(d),f=function(e){return r.a.createElement("div",{className:"card",onClick:e.handleClick,style:{backgroundColor:e.playerColor||"rgb(208, 207, 207)"}},r.a.createElement("span",null,e.value))},b=function(e){return r.a.createElement("div",{className:"card",onClick:e.handleClick},r.a.createElement("span",null,e.number))},x=a(11),v=a.n(x);a(29);v.a.initializeApp({apiKey:"AIzaSyCtEPOgCUThNXsG0KaoV24tb6930l_tNYw",authDomain:"pares-fit.firebaseapp.com",databaseURL:"https://pares-fit.firebaseio.com",projectId:"pares-fit",storageBucket:"pares-fit.appspot.com",messagingSenderId:"878020492779"});var h=v.a.firestore(),E=a(13),y=new E.a,k=h.collection("games"),g={add:function(e){return k.add({currentPlayer:0,players:[],cardDeck:e,createdAt:x.firestore.FieldValue.serverTimestamp()})},get:function(e){return k.doc(e)},updateStatus:function(e,t,a){return k.doc(e).update({cardDeck:t,currentPlayer:a})},generatePlayerId:function(){var e=k.doc().id;return y.set("playerUID",e,{expires:new Date(2025,12,31)}),e},updatePlayers:function(e,t){return k.doc(e).update({players:t})}},j=a(16),w=a.n(j),O=new E.a,S=function(){var e=[{text:"5 Abdominales",isFlipped:!0},{text:"15 Portales",isFlipped:!0},{text:"15 Abdominales",isFlipped:!0},{text:"5 Portales",isFlipped:!0},{text:"20 Sapitos",isFlipped:!0},{isFlipped:!0,text:"5 Abdominales"},{isFlipped:!0,text:"15 Abdominales"},{text:"10 Flexiones",isFlipped:!0},{text:"25 Abdominales",isFlipped:!0},{text:"20 Sapitos",isFlipped:!0},{text:"5 Portales",isFlipped:!0},{text:"10 Flexiones",isFlipped:!0},{text:"15 Portales",isFlipped:!0},{text:"25 Abdominales",isFlipped:!0}],t=Object(n.useState)(null),a=Object(p.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),d=Object(p.a)(o,2),x=d[0],v=d[1],h=Object(n.useState)(null),E=Object(p.a)(h,2),y=E[0],k=E[1],j=Object(n.useState)(0),S=Object(p.a)(j,2),F=S[0],C=S[1],P=Object(n.useState)(0),I=Object(p.a)(P,2),q=I[0],A=I[1],D=Object(n.useState)({}),N=Object(p.a)(D,2),U=N[0],z=N[1],L=Object(n.useState)([]),T=Object(p.a)(L,2),B=T[0],V=T[1],J=Object(n.useState)("transparent"),K=Object(p.a)(J,2),W=K[0],G=K[1],H=Object(n.useState)(!0),M=Object(p.a)(H,2),R=M[0],X=M[1],Y=Object(n.useState)(!1),$=Object(p.a)(Y,2),_=$[0],Q=$[1],Z=Object(n.useState)(!1),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],ne=O.get("playerUID");r.a.useEffect((function(){ne||(ne=g.generatePlayerId()),function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=8;break}return X(!1),ae(!0),e.next=5,g.get(c);case 5:t=e.sent,ae(!1),t.onSnapshot((function(e){e.exists?(v(e.data().cardDeck),A(e.data().currentPlayer),V(e.data().players),e.data().players.length>0&&G(e.data().players[e.data().currentPlayer].color)):X(!0)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c]);var re=function(){var t=Object(s.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.add(e);case 2:a=t.sent,l(a.id);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#game-id").value&&(l(document.querySelector("#game-id").value),X(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){c&&(B.some((function(e){return e.uid===ne}))||Q(!0))}),[B]);var le=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=B.filter((function(e){return"#ffc300"===e.color})),n=B.filter((function(e){return"#ff4e15"===e.color})),r={uid:ne,color:t.color,name:t.name},z(r),!B[0]){e.next=12;break}return"#ffc300"===t.color?a.push(r):n.push(r),l=[],l="#ffc300"===B[0].color?a.map((function(e,t){return n[t]?[e,n[t]]:[e]})).reduce((function(e,t){return e.concat(t)})):n.map((function(e,t){return a[t]?[e,a[t]]:[e]})).reduce((function(e,t){return e.concat(t)}),[]),e.next=10,g.updatePlayers(c,l);case 10:e.next=14;break;case 12:return e.next=14,g.updatePlayers(c,[r]);case 14:Q(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=0;return q<B.length-1&&(e=q+1),e},oe=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B[q].uid!==ne){e.next=21;break}if(!(x[t].isFlipped&&F<2)){e.next=21;break}return a=Object(i.a)({},x[t],{index:t}),x[t].isFlipped=!a.isFlipped,C(F+1),e.next=7,g.updateStatus(c,x,q);case 7:if(null!==y){e.next=11;break}k(a),e.next=21;break;case 11:if(y.text!==a.text){e.next=20;break}return k(null),x[y.index].color=B[q].color,x[a.index].color=B[q].color,e.next=17,g.updateStatus(c,x,q);case 17:C(0),e.next=21;break;case 20:setTimeout(Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x[y.index].isFlipped=!0,x[a.index].isFlipped=!0,k(null),C(0),t=ie(),e.next=7,g.updateStatus(c,x,t);case 7:case"end":return e.stop()}}),e)}))),1e3);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c&&B.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Hola ",U.name),r.a.createElement("div",null,"Invita a tus amigos a que se unan con este ID: ",c),r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"Turno del equipo"),r.a.createElement("div",{style:{width:"150px",height:"80px",backgroundColor:W,marginLeft:"10px"}},B[q].name)),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return X(!0)}},"Ver instrucciones")),r.a.createElement("div",{className:"App"},x.map((function(e,t){return r.a.createElement(m.a,{key:t,isFlipped:e.isFlipped,flipDirection:"horizontal"},!e.isFlipped&&r.a.createElement(f,{handleClick:function(){return oe(t)},value:e.text,playerColor:e.color}),r.a.createElement(b,{handleClick:function(){return oe(t)},number:t+1}))})))),r.a.createElement(w.a,{visible:R,width:"400",effect:"fadeInUp"},r.a.createElement("div",{className:"instructions-wrapper"},r.a.createElement("h1",null,"Pares Fit"),r.a.createElement("ul",null,r.a.createElement("li",null,"Deben jugar m\xednimo dos jugadores o equipos."),r.a.createElement("li",null,"Selecciona una carta y encuentra la pareja."),r.a.createElement("li",null,"Si aciertas, puedes continuar con tu turno. Si fallas, es el turno del otro equipo."),r.a.createElement("li",null,"Al final, el equipo contrario tendr\xe1 que realizar los ejercicios mostrados en las cartas que tu acertaste.")),r.a.createElement("div",null,r.a.createElement("button",{onClick:re},"Empezar un nuevo juego")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"game-id"}),te?"Obteniendo partida...":r.a.createElement("button",{onClick:ce},"Unirme a un juego")))),r.a.createElement(w.a,{visible:_,width:"400",effect:"fadeInUp"},r.a.createElement("div",{className:"select-color-wrapper"},r.a.createElement("h1",null,"Ingresa tu nombre"),r.a.createElement("input",{type:"text",id:"playerName"}),r.a.createElement("h1",null,"Selecciona un color"),te?"Obteniendo Partida...":r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{style:{width:"150px",height:"80px",backgroundColor:"#ff4e15",marginLeft:"10px"}},r.a.createElement("input",{type:"radio",value:"#ff4e15",name:"playerColor"}))),r.a.createElement("li",null,r.a.createElement("div",{style:{width:"150px",height:"80px",backgroundColor:"#ffc300",marginLeft:"10px"}},r.a.createElement("input",{type:"radio",value:"#ffc300",name:"playerColor"}))))),r.a.createElement("button",{onClick:Object(s.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#playerName").value,a=document.querySelector('input[name="playerColor"]:checked'),n=a&&a.value,!t||!n){e.next=6;break}return e.next=6,le({name:t,color:n});case 6:case"end":return e.stop()}}),e)})))},"Unirme"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.2c12e4f8.chunk.js.map