(this["webpackJsonppares-app"]=this["webpackJsonppares-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},28:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(18),l=a.n(c),o=(a(26),a(20)),i=a(4),u=a.n(i),s=a(8),p=a(6),d=(a(28),a(19)),m=a.n(d),f=function(e){return r.a.createElement("div",{className:"card",onClick:e.handleClick,style:{backgroundColor:e.playerColor||"rgb(208, 207, 207)"}},r.a.createElement("span",null,e.value))},b=function(e){return r.a.createElement("div",{className:"card",onClick:e.handleClick},r.a.createElement("span",null,e.number))},g=a(11),x=a.n(g);a(29);x.a.initializeApp({apiKey:"AIzaSyCtEPOgCUThNXsG0KaoV24tb6930l_tNYw",authDomain:"pares-fit.firebaseapp.com",databaseURL:"https://pares-fit.firebaseio.com",projectId:"pares-fit",storageBucket:"pares-fit.appspot.com",messagingSenderId:"878020492779"});var v=x.a.firestore(),y=a(13),E=new y.a,h=v.collection("games"),k={add:function(e){return h.add({currentPlayer:0,players:[],cardDeck:e,createdAt:g.firestore.FieldValue.serverTimestamp()})},get:function(e){return h.doc(e)},updateStatus:function(e,t,a){return h.doc(e).update({cardDeck:t,currentPlayer:a})},generatePlayerId:function(){var e=h.doc().id;return E.set("playerUID",e,{expires:new Date(2025,12,31)}),e},updatePlayers:function(e,t){return h.doc(e).update({players:t})}},j=a(16),O=a.n(j),w=new y.a,S=function(){var e=[{text:"5 Abdominales",isFlipped:!0},{text:"15 Abdominales",isFlipped:!0},{isFlipped:!0,text:"5 Abdominales"},{isFlipped:!0,text:"15 Abdominales"},{text:"10 Flexiones",isFlipped:!0},{text:"10 Flexiones",isFlipped:!0}],t=Object(n.useState)(null),a=Object(p.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),d=Object(p.a)(i,2),g=d[0],x=d[1],v=Object(n.useState)(null),y=Object(p.a)(v,2),E=y[0],h=y[1],j=Object(n.useState)(0),S=Object(p.a)(j,2),C=S[0],F=S[1],P=Object(n.useState)(0),I=Object(p.a)(P,2),D=I[0],N=I[1],q=Object(n.useState)({}),U=Object(p.a)(q,2),A=U[0],z=U[1],J=Object(n.useState)([]),L=Object(p.a)(J,2),T=L[0],B=L[1],V=Object(n.useState)("transparent"),K=Object(p.a)(V,2),R=K[0],W=K[1],G=Object(n.useState)(!0),H=Object(p.a)(G,2),M=H[0],X=H[1],Y=Object(n.useState)(!1),$=Object(p.a)(Y,2),_=$[0],Q=$[1],Z=Object(n.useState)(!1),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],ne=w.get("playerUID");r.a.useEffect((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=9;break}return ae(!0),e.next=4,k.get(c);case 4:t=e.sent,ae(!1),t.onSnapshot((function(e){console.log("game.exists",e.exists),e.exists?(console.log("game",JSON.stringify(e.data(),null,2)),x(e.data().cardDeck),N(e.data().currentPlayer),B(e.data().players),e.data().players.length>0&&W(e.data().players[e.data().currentPlayer].color)):X(!0)})),e.next=10;break;case 9:X(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);var re=function(){var t=Object(s.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.add(e);case 2:a=t.sent,console.log("docRef.id",a.id),l(a.id);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#game-id").value&&(l(document.querySelector("#game-id").value),ne||(ne=k.generatePlayerId()),console.log("playerUID",ne),X(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){if(c){console.log("players Effect",T);var e=T.some((function(e){return e.uid===ne}));console.log("alreadyJoined",e),e||Q(!0)}}),[T]);var le=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("players",T),a=T.filter((function(e){return"#ffc300"===e.color})),n=T.filter((function(e){return"#ff4e15"===e.color})),console.log("playerData",t),r={uid:ne,color:t.color,name:t.name},console.log("newPlayer",r),z(r),!T[0]){e.next=18;break}return"#ffc300"===t.color?a.push(r):n.push(r),console.log("color1Players",a),console.log("color2Players",n),l=[],l="#ffc300"===T[0].color?a.map((function(e,t){return n[t]?[e,n[t]]:[e]})).reduce((function(e,t){return e.concat(t)})):n.map((function(e,t){return a[t]?[e,a[t]]:[e]})).reduce((function(e,t){return e.concat(t)}),[]),console.log("playersUpdated",l),e.next=16,k.updatePlayers(c,l);case 16:e.next=20;break;case 18:return e.next=20,k.updatePlayers(c,[r]);case 20:Q(!1);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=0;return D<T.length-1&&(e=D+1),console.log("nextPlayer",e),e},ie=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T[D].uid!==ne){e.next=24;break}if(!(g[t].isFlipped&&C<2)){e.next=24;break}return a=Object(o.a)({},g[t],{index:t}),g[t].isFlipped=!a.isFlipped,F(C+1),console.log("flippedCounter",C),e.next=8,k.updateStatus(c,g,D);case 8:if(null!==E){e.next=12;break}h(a),e.next=24;break;case 12:if(E.text!==a.text){e.next=22;break}return console.log("Correcto"),h(null),g[E.index].color=T[D].color,g[a.index].color=T[D].color,e.next=19,k.updateStatus(c,g,D);case 19:F(0),e.next=24;break;case 22:console.log("NO"),setTimeout(Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g[E.index].isFlipped=!0,g[a.index].isFlipped=!0,h(null),F(0),t=oe(),e.next=7,k.updateStatus(c,g,t);case 7:case"end":return e.stop()}}),e)}))),1e3);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c&&T.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Hola ",A.name),r.a.createElement("div",null,"Invita a tus amigos a que se unan con este ID: ",c),r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"Turno del equipo"),r.a.createElement("div",{style:{width:"150px",height:"80px",backgroundColor:R,marginLeft:"10px"}},T[D].name)),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return X(!0)}},"Ver instrucciones")),r.a.createElement("div",{className:"App"},g.map((function(e,t){return r.a.createElement(m.a,{key:t,isFlipped:e.isFlipped,flipDirection:"horizontal"},!e.isFlipped&&r.a.createElement(f,{handleClick:function(){return ie(t)},value:e.text,playerColor:e.color}),r.a.createElement(b,{handleClick:function(){return ie(t)},number:t+1}))})))),r.a.createElement(O.a,{visible:M,width:"400",effect:"fadeInUp"},r.a.createElement("div",{className:"instructions-wrapper"},r.a.createElement("h1",null,"Pares Fit"),r.a.createElement("ul",null,r.a.createElement("li",null,"Deben jugar m\xednimo dos jugadores o equipos."),r.a.createElement("li",null,"Selecciona una carta y encuentra la pareja."),r.a.createElement("li",null,"Si aciertas, puedes continuar con tu turno. Si fallas, es el turno del otro equipo."),r.a.createElement("li",null,"Al final, el equipo contrario tendr\xe1 que realizar los ejercicios mostrados en las cartas que tu acertaste.")),r.a.createElement("div",null,r.a.createElement("button",{onClick:re},"Empezar un nuevo juego")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"game-id"}),te?"Obteniendo partida...":r.a.createElement("button",{onClick:ce},"Unirme a un juego")))),r.a.createElement(O.a,{visible:_,width:"400",effect:"fadeInUp"},r.a.createElement("div",{className:"select-color-wrapper"},r.a.createElement("h1",null,"Ingresa tu nombre"),r.a.createElement("input",{type:"text",id:"playerName"}),r.a.createElement("h1",null,"Selecciona un color"),te?"Obteniendo Partida...":r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{style:{width:"150px",height:"80px",backgroundColor:"#ff4e15",marginLeft:"10px"}},r.a.createElement("input",{type:"radio",value:"#ff4e15",name:"playerColor"}))),r.a.createElement("li",null,r.a.createElement("div",{style:{width:"150px",height:"80px",backgroundColor:"#ffc300",marginLeft:"10px"}},r.a.createElement("input",{type:"radio",value:"#ffc300",name:"playerColor"}))))),r.a.createElement("button",{onClick:Object(s.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#playerName").value,a=document.querySelector('input[name="playerColor"]:checked'),n=a&&a.value,!t||!n){e.next=6;break}return e.next=6,le({name:t,color:n});case 6:case"end":return e.stop()}}),e)})))},"Unirme"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.3a0376cb.chunk.js.map