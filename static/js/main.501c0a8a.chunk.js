(this["webpackJsonppares-app"]=this["webpackJsonppares-app"]||[]).push([[0],{18:function(e,t,a){},22:function(e,t,a){e.exports=a(46)},27:function(e,t,a){},29:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),l=a.n(c),o=(a(27),a(21)),i=a(4),u=a.n(i),s=a(8),p=a(6),d=(a(29),a(20)),m=a.n(d),f=function(e){return r.a.createElement("div",{className:"card",onClick:e.handleClick,style:{backgroundColor:e.playerColor||"rgb(208, 207, 207)"}},r.a.createElement("span",null,e.value))},b=function(e){return r.a.createElement("div",{className:"card",onClick:e.handleClick},r.a.createElement("span",null,e.number))},v=a(11),x=a.n(v);a(30);x.a.initializeApp({apiKey:"AIzaSyCtEPOgCUThNXsG0KaoV24tb6930l_tNYw",authDomain:"pares-fit.firebaseapp.com",databaseURL:"https://pares-fit.firebaseio.com",projectId:"pares-fit",storageBucket:"pares-fit.appspot.com",messagingSenderId:"878020492779"});var E=x.a.firestore(),g=a(13),h=new g.a,y=E.collection("games"),k={add:function(e){return y.add({currentPlayer:0,players:[],cardDeck:e,createdAt:v.firestore.FieldValue.serverTimestamp()})},get:function(e){return y.doc(e)},updateStatus:function(e,t,a){return y.doc(e).update({cardDeck:t,currentPlayer:a})},generatePlayerId:function(){var e=y.doc().id;return h.set("playerUID",e,{expires:new Date(2025,12,31)}),e},updatePlayers:function(e,t){return y.doc(e).update({players:t})}},j=a(16),O=a.n(j),w=(a(18),function(e){return r.a.createElement("div",{className:"square-spin loading"},r.a.createElement("div",null))}),S=new g.a,F=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e},C=function(){var e=[{text:"5 Abdominales",isFlipped:!0},{text:"15 Portales",isFlipped:!0},{text:"15 Abdominales",isFlipped:!0},{text:"5 Portales",isFlipped:!0},{text:"20 Sapitos",isFlipped:!0},{isFlipped:!0,text:"5 Abdominales"},{isFlipped:!0,text:"15 Abdominales"},{text:"10 Flexiones",isFlipped:!0},{text:"25 Abdominales",isFlipped:!0},{text:"20 Sapitos",isFlipped:!0},{text:"5 Portales",isFlipped:!0},{text:"10 Flexiones",isFlipped:!0},{text:"15 Portales",isFlipped:!0},{text:"25 Abdominales",isFlipped:!0}],t=Object(n.useState)(null),a=Object(p.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),d=Object(p.a)(i,2),v=d[0],x=d[1],E=Object(n.useState)(null),g=Object(p.a)(E,2),h=g[0],y=g[1],j=Object(n.useState)(0),C=Object(p.a)(j,2),N=C[0],I=C[1],P=Object(n.useState)(0),q=Object(p.a)(P,2),A=q[0],D=q[1],U=Object(n.useState)({}),z=Object(p.a)(U,2),T=z[0],B=z[1],M=Object(n.useState)([]),V=Object(p.a)(M,2),J=V[0],K=V[1],L=Object(n.useState)("transparent"),W=Object(p.a)(L,2),G=W[0],H=W[1],R=Object(n.useState)(!0),X=Object(p.a)(R,2),Y=X[0],$=X[1],_=Object(n.useState)(!1),Q=Object(p.a)(_,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(!1),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1],ce=S.get("playerUID"),le=Object(n.useState)(!1),oe=Object(p.a)(le,2),ie=oe[0],ue=oe[1];r.a.useEffect((function(){ce||(ce=k.generatePlayerId()),function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=8;break}return $(!1),re(!0),e.next=5,k.get(c);case 5:t=e.sent,re(!1),t.onSnapshot((function(e){e.exists?(x(e.data().cardDeck),D(e.data().currentPlayer),K(e.data().players),e.data().players.length>0&&H(e.data().players[e.data().currentPlayer].color)):$(!0)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c]);var se=function(){var t=Object(s.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue(!0),t.next=3,k.add(F(e));case 3:a=t.sent,l(a.id),ue(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),pe=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#game-id").value&&(l(document.querySelector("#game-id").value),$(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){c&&(J.some((function(e){return e.uid===ce}))||ee(!0))}),[J]);var de=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=J.filter((function(e){return"#ffc300"===e.color})),n=J.filter((function(e){return"#ff4e15"===e.color})),r={uid:ce,color:t.color,name:t.name},B(r),!J[0]){e.next=12;break}return"#ffc300"===t.color?a.push(r):n.push(r),l=[],l="#ffc300"===J[0].color?a.map((function(e,t){return n[t]?[e,n[t]]:[e]})).reduce((function(e,t){return e.concat(t)})):n.map((function(e,t){return a[t]?[e,a[t]]:[e]})).reduce((function(e,t){return e.concat(t)}),[]),e.next=10,k.updatePlayers(c,l);case 10:e.next=14;break;case 12:return e.next=14,k.updatePlayers(c,[r]);case 14:ee(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=0;return A<J.length-1&&(e=A+1),e},fe=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J[A].uid!==ce){e.next=30;break}if(!(v[t].isFlipped&&N<2)){e.next=30;break}return ue(!0),a=Object(o.a)({},v[t],{index:t}),n=A,v[t].isFlipped=!a.isFlipped,I(N+1),console.log("flippedCounter",N),e.next=10,k.updateStatus(c,v,n);case 10:if(null!==h){e.next=16;break}console.log("Flipped 1"),y(a),ue(!1),e.next=30;break;case 16:if(h.text!==a.text){e.next=27;break}return console.log("Correcto"),y(null),v[h.index].color=J[A].color,v[a.index].color=J[A].color,e.next=23,k.updateStatus(c,v,n);case 23:I(0),ue(!1),e.next=30;break;case 27:console.log("NO"),ue(!1),setTimeout(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v[h.index].isFlipped=!0,v[a.index].isFlipped=!0,y(null),I(0),n=me(),ue(!0),e.next=8,k.updateStatus(c,v,n);case 8:ue(!1);case 9:case"end":return e.stop()}}),e)}))),1e3);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,ie&&r.a.createElement(w,null),c&&J.length>0&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"greeting"},r.a.createElement("h1",null,"Hola ",T.name)),r.a.createElement("div",{className:"invite-text"},"Invita a tus amigos a que se unan con este ID:"),r.a.createElement("div",{className:"game-id"},c),r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"Turno de "),r.a.createElement("div",{style:{width:"auto",backgroundColor:G,marginLeft:"10px",height:"100%",padding:"0 10px",textAlign:"center"}},J[A].name)),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return $(!0)}},"Ver instrucciones")),r.a.createElement("div",{className:"App"},v.map((function(e,t){return r.a.createElement(m.a,{key:t,isFlipped:e.isFlipped,flipDirection:"horizontal"},!e.isFlipped&&r.a.createElement(f,{handleClick:function(){return fe(t)},value:e.text,playerColor:e.color}),r.a.createElement(b,{handleClick:function(){return fe(t)},number:t+1}))})))),r.a.createElement(O.a,{visible:Y,width:"400",effect:"fadeInUp"},r.a.createElement("div",{className:"instructions-wrapper modal-content"},r.a.createElement("h1",null,"Pares Fit"),r.a.createElement("ul",null,r.a.createElement("li",null,"Deben jugar m\xednimo dos jugadores o equipos."),r.a.createElement("li",null,"Selecciona una carta y encuentra el par."),r.a.createElement("li",null,"Si aciertas puedes continuar con tu turno. Si fallas es el turno del otro equipo."),r.a.createElement("li",null,"Al final, el equipo contrario tendr\xe1 que realizar los ejercicios mostrados en las cartas que t\xfa acertaste.")),r.a.createElement("div",{className:"section-new-game"},r.a.createElement("button",{onClick:se},"Empezar un nuevo juego")),r.a.createElement("div",{className:"section-join-game"},r.a.createElement("h2",null,"Tengo el ID de un juego"),r.a.createElement("input",{type:"text",id:"game-id",placeholder:"Ingresa el ID del juego que te comparti\xf3 tu amigo"}),ne?"Obteniendo partida...":r.a.createElement("button",{onClick:pe},"Unirme a un juego")),c&&r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return $(!1)}},"Cerrar")))),r.a.createElement(O.a,{visible:Z,width:"400",effect:"fadeInUp"},r.a.createElement("div",{className:"select-color-wrapper modal-content"},r.a.createElement("h1",null,"Ingresa tu nombre"),r.a.createElement("input",{type:"text",id:"playerName"}),r.a.createElement("h1",null,"Selecciona un color"),ne?"Obteniendo Partida...":r.a.createElement("div",null,r.a.createElement("ul",{className:"color-list"},r.a.createElement("li",{style:{backgroundColor:"#ff4e15"}},r.a.createElement("input",{type:"radio",value:"#ff4e15",name:"playerColor"})),r.a.createElement("li",{style:{backgroundColor:"#ffc300"}},r.a.createElement("input",{type:"radio",value:"#ffc300",name:"playerColor"})))),r.a.createElement("button",{onClick:Object(s.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#playerName").value,a=document.querySelector('input[name="playerColor"]:checked'),n=a&&a.value,!t||!n){e.next=6;break}return e.next=6,de({name:t,color:n});case 6:case"end":return e.stop()}}),e)})))},"Unirme"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.501c0a8a.chunk.js.map